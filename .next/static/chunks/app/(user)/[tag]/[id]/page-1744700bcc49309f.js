(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[476],{28540:function(e,t,a){Promise.resolve().then(a.bind(a,27286))},27286:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ImageDetails}});var s=a(57437),l=a(64966),i=a(16896),n=a(38891),r=a(24033),o=a(59077),d=a(2265),c=a(5925),components_TextButton=e=>{let{name:t,type:a}=e;return(0,s.jsx)("button",{type:a||"button",className:"text-lg font-bold text-white px-8 py-1 rounded-md transition duration-500 primary-btn tracking-wide",children:t})},ImageDetails_CommentSection=e=>{var t,a,l;let{isLoading:r,userInfo:u,data:m,setOpenLoginModal:x,refetch:g}=e,h=(0,o.useQueryClient)(),[v,p]=(0,d.useState)(""),f=(0,i.o)(e=>e.isLogin),handleSubmit=async e=>{e.preventDefault(),f?await b.mutate({text:v}):x(!0)},b=(0,o.useMutation)({mutationKey:["add-comment"],mutationFn:async e=>{var t;return n.x.post("/comment_image/".concat(null==u?void 0:null===(t=u.user_data)||void 0===t?void 0:t.user_id,"/").concat(null==m?void 0:m.image_id,"/"),e)},onSuccess:async()=>{c.default.success("Comment Added Successfully"),g(),h.invalidateQueries(["get-user-all-images","get-image-details","get-all-category","get-all-images"]),p("")},onError:e=>{c.default.error(e)}});return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-col gap-y-3",children:[(0,s.jsxs)("h1",{className:"text-white font-bold text-2xl",children:["Comments (",null==m?void 0:null===(t=m.comments)||void 0===t?void 0:t.length,")"]}),r?(0,s.jsxs)("div",{role:"status",className:"max-w-sm animate-pulse",children:[(0,s.jsx)("div",{className:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 w-full mb-2.5"}),(0,s.jsx)("div",{className:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 w-full mb-2.5"})]}):(0,s.jsx)("div",{className:"relative overflow-y-auto  flex flex-col gap-y-2 antd-selector-for-user ".concat((null==m?void 0:null===(a=m.comments)||void 0===a?void 0:a.length)>0?"h-[200px]":"h-auto"),children:null==m?void 0:null===(l=m.comments)||void 0===l?void 0:l.map(e=>{var t,a,l,i,n;return(0,s.jsxs)("div",{className:"flex items-start gap-x-6 text-white gap-y-5",children:[(0,s.jsx)("div",{className:"flex items-center text-2xl font-bold justify-center border border-LightGray rounded-full w-10 h-10",children:null==e?void 0:null===(a=e.username)||void 0===a?void 0:null===(t=a.split(" ")[0])||void 0===t?void 0:t.charAt(0)}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsxs)("h1",{className:"text-xl font-bold",children:[null==e?void 0:null===(l=e.username)||void 0===l?void 0:l.split(" ")[0]," ",null==e?void 0:null===(n=e.username)||void 0===n?void 0:null===(i=n.split(" ")[1])||void 0===i?void 0:i.charAt(0)]}),(0,s.jsx)("span",{className:"text-base text-LightGray",children:null==e?void 0:e.text})]})]},e.id)})})]}),(0,s.jsxs)("form",{className:"flex flex-col items-start justify-start w-full gap-y-4 mt-4",onSubmit:handleSubmit,children:[(0,s.jsx)("textarea",{id:"message",rows:3,className:"rounded-md bg-slate-gray  placeholder:text-gray-400 text-white  text-xl w-full p-2 ",placeholder:"Enter your Comment",required:!0,name:"text",value:v,onChange:e=>{p(e.target.value)}}),(0,s.jsx)(components_TextButton,{name:"Enter",type:"submit"})]})]})},u=a(16691),m=a.n(u),x=a(77860),g=a(99761),h={src:"/_next/static/media/Share.96f8c467.svg",height:20,width:22,blurWidth:0,blurHeight:0},v=a(57694),p=a(60980),f=a(25511),b=a(25241),j=a(1878),w=a(61396),y=a.n(w),ImageDetails_ImageSection=e=>{var t,a,l;let{isLoading:d,userInfo:u,data:w,refetch:N}=e,_=(0,r.usePathname)(),k=(0,i.o)(e=>e.imageDownloadLimit),L=(0,i.o)(e=>e.setImageDownloadLimit),I=(0,i.o)(e=>e.isRemix),D=(0,i.o)(e=>e.isLogin),S=(0,i.o)(e=>e.setOpenLoginModal);(0,r.useRouter)();let Z=(0,o.useMutation)({mutationKey:"generate-image-countdown",mutationFn:async e=>{var t,a,s;let l=await n.x.post("/decrement_limit/",e);return c.default.success(null==l?void 0:null===(t=l.data)||void 0===t?void 0:t.message),L(null==l?void 0:null===(s=l.data)||void 0===s?void 0:null===(a=s.user_subscription)||void 0===a?void 0:a.max_download_limit),l.data}}),C=(0,o.useMutation)({mutationKey:["add-like"],mutationFn:async e=>{var t;return n.x.post("/like_image/".concat(null==u?void 0:null===(t=u.user_data)||void 0===t?void 0:t.user_id,"/").concat(e,"/"))},onSuccess:()=>{N()},onError:()=>{c.default.error("Updating Failed")}}),F=[{key:"1",label:(0,s.jsxs)(b.Dk,{url:_,className:"flex  gap-1",children:[(0,s.jsx)(b.Vq,{size:20,round:!0}),(0,s.jsx)("span",{className:"!pl-1 !text-black",children:"Facebook"})]})},{key:"2",label:(0,s.jsxs)(b.N0,{url:_,className:"flex  gap-1",children:[(0,s.jsx)(b.ud,{size:20,round:!0}),(0,s.jsx)("span",{className:"!pl-1 !text-black",children:"WhatsApp"})]})},{key:"3",label:(0,s.jsxs)(b.B,{url:_,className:"flex  gap-1",children:[(0,s.jsx)(b.Zm,{size:20,round:!0}),(0,s.jsx)("span",{className:"!pl-1 !text-black",children:"Twitter"})]})},{key:"4",label:(0,s.jsxs)(b.r2,{url:_,className:"flex  gap-1",children:[(0,s.jsx)(b.pA,{size:20,round:!0}),(0,s.jsx)("span",{className:"!pl-1 !text-black",children:"Linkedin"})]})},{key:"5",label:(0,s.jsxs)(b.tq,{url:_,className:"flex  gap-1",children:[(0,s.jsx)(b.YG,{size:20,round:!0}),(0,s.jsx)("span",{className:"!pl-1 !text-black",children:"Telegram"})]})},{key:"6",label:(0,s.jsxs)(b.cG,{url:_,body:null==w?void 0:w.prompt_optimized,className:"flex  gap-1",children:[(0,s.jsx)(b.LQ,{size:20,round:!0}),(0,s.jsx)("span",{className:"!pl-1 !text-black",children:"Email"})]})}];return(0,s.jsxs)("div",{className:"flex flex-col gap-y-4 items-center justify-center md:items-start md:justify-start lg:items-center lg:justify-center",children:[(0,s.jsx)("section",{className:"relative items-center !h-auto justify-center overflow-hidden rounded-2xl",children:d?(0,s.jsx)("div",{className:"w-[342px] !md:w-[402px] !h-[370px] border border-gray-200 relative overflow-hidden rounded-2xl shadow animate-pulse  dark:border-gray-700",children:(0,s.jsx)("div",{className:"flex items-center h-full justify-center rounded",children:(0,s.jsxs)("svg",{className:"w-10 h-10 text-gray-200","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 16 20",children:[(0,s.jsx)("path",{d:"M14.066 0H7v5a2 2 0 0 1-2 2H0v11a1.97 1.97 0 0 0 1.934 2h12.132A1.97 1.97 0 0 0 16 18V2a1.97 1.97 0 0 0-1.934-2ZM10.5 6a1.5 1.5 0 1 1 0 2.999A1.5 1.5 0 0 1 10.5 6Zm2.221 10.515a1 1 0 0 1-.858.485h-8a1 1 0 0 1-.9-1.43L5.6 10.039a.978.978 0 0 1 .936-.57 1 1 0 0 1 .9.632l1.181 2.981.541-1a.945.945 0 0 1 .883-.522 1 1 0 0 1 .879.529l1.832 3.438a1 1 0 0 1-.031.988Z"}),(0,s.jsx)("path",{d:"M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.98 2.98 0 0 0 .13 5H5Z"})]})})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m(),{className:"w-full h-auto object-cover",src:null==w?void 0:w.image_path,alt:null==w?void 0:w.image_path,width:402,height:100,quality:100}),(0,s.jsxs)("section",{className:"absolute bg-gradient-to-t from-black/95 to-transparent top-0 w-full h-full",children:[(0,s.jsxs)(y(),{href:D?"/subscriptions-offers":"",className:"flex items-center gap-x-2 cursor-pointer absolute left-3 text-white text-lg font-semibold top-3 bg-DeepNightBlack py-2 px-4 rounded-lg ".concat(D&&I?"":"pointer-events-none opacity-50"),children:[(0,s.jsx)(m(),{src:x.Z,alt:"remix icon",width:20,height:20})," ",(0,s.jsx)("span",{children:"Remix Image"})]}),(0,s.jsx)("section",{className:"absolute w-full bottom-5 left-5 ",children:(0,s.jsxs)("div",{className:"flex items-center justify-between gap-x-6 text-xl",children:[(0,s.jsxs)("div",{className:"flex gap-x-3",children:[(0,s.jsxs)("button",{onClick:()=>D?null==C?void 0:C.mutate(null==w?void 0:w.image_id):S(!0),className:"flex items-center bg-white/20 cursor-pointer px-2 justify-center h-10 rounded-lg gap-x-2 text-white !border-none",children:[(null==w?void 0:null===(t=w.likes)||void 0===t?void 0:t.some(e=>{var t;return e===(null==u?void 0:null===(t=u.user_data)||void 0===t?void 0:t.user_id)}))?(0,s.jsx)(m(),{src:v.Z,alt:"LikeFill icon",width:20,height:20}):(0,s.jsx)(m(),{src:p.Z,alt:"Like icon",width:20,height:20}),(0,s.jsx)("span",{children:null==w?void 0:null===(a=w.likes)||void 0===a?void 0:a.length})]}),(0,s.jsxs)("button",{className:"flex items-center bg-white/20 cursor-pointer px-2 justify-center h-10 rounded-lg gap-x-2 text-white !border-none",children:[(0,s.jsx)(m(),{src:f.Z,alt:"Comment icon",width:20,height:20}),(0,s.jsx)("span",{children:null==w?void 0:null===(l=w.comments)||void 0===l?void 0:l.length})]})]}),(0,s.jsx)("div",{className:"mr-10",children:(0,s.jsxs)(j.v,{as:"div",className:"relative",children:[(0,s.jsx)(j.v.Button,{className:"flex items-center bg-white/20 cursor-pointer w-16 justify-center h-10 rounded-lg gap-x-2 text-white !border-none",children:(0,s.jsx)(m(),{src:h,alt:"share icon",width:20,height:20})}),(0,s.jsx)(j.v.Items,{className:"absolute right-0 bottom-full mt-2 bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:F.map(e=>(0,s.jsx)(j.v.Item,{children:t=>{let{active:a}=t;return(0,s.jsx)("div",{className:"flex items-center gap-x-2 cursor-pointer py-2 px-2  text-sm ".concat(a?"bg-gray-100":""),children:e.label})}},e.key))})]})})]})})]})]})}),(0,s.jsxs)("a",{onClick:e=>{if(!D){e.preventDefault(),S(!0);return}if(k>0){var t;Z.mutate({user_id:null==u?void 0:null===(t=u.user_data)||void 0===t?void 0:t.user_id,action:"image_download"});return}0==k&&(e.preventDefault(),c.default.success("Maximum downloads succeeded"))},href:null==w?void 0:w.image_path,target:"_blank",rel:"noreferrer",className:"flex items-center gap-x-2 px-6 py-1 bg-[#9C70FF] text-xl text-white rounded-md text-center mt-2",children:["Download Image"," ",(0,s.jsx)(m(),{src:g.Z,alt:"download icon",width:12,height:12})]})]})},ImageDetails_ImageTextDetails=e=>{var t,a;let{isLoading:l,data:i}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("h1",{className:"text-yellow font-bold text-base",children:"PROMPT"}),l?(0,s.jsxs)("div",{role:"status",className:"max-w-sm animate-pulse",children:[(0,s.jsx)("div",{className:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 w-full mb-2.5"}),(0,s.jsx)("div",{className:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 w-full mb-2.5"})]}):(0,s.jsx)("span",{className:"text-base text-white tracking-wide",children:null==i?void 0:i.prompt_optimized})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-yellow font-bold text-base",children:"Tags"}),l?(0,s.jsxs)("div",{role:"status",className:"max-w-sm animate-pulse",children:[(0,s.jsx)("div",{className:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 w-full mb-2.5"}),(0,s.jsx)("div",{className:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 w-full mb-2.5"})]}):(null==i?void 0:null===(t=i.caption)||void 0===t?void 0:t.length)!==0?(0,s.jsx)("div",{className:"flex items-center gap-2 flex-wrap",children:null==i?void 0:null===(a=i.caption)||void 0===a?void 0:a.map(e=>(0,s.jsx)("span",{className:"bg-white/20 px-2 py-1 text-base rounded-lg text-white",children:e},e))}):(0,s.jsx)("span",{className:"text-base text-white",children:"No Tags"})]})]})};function ImageDetails(){let e=(0,i.o)(e=>e.setOpenLoginModal),t=(0,l.Z)("userInfo")[0],{id:a}=(0,r.useParams)(),{data:d,isLoading:u,refetch:m}=(0,o.useQuery)({queryKey:["get-image-details",a],queryFn:async()=>n.x.get("/images_id/".concat(a)).then(e=>{let{data:t}=e;return t}).catch(e=>c.default.error(e))});return(0,s.jsxs)("div",{className:"!h-full grid grid-cols-1 lg:grid-cols-[402px_1fr] gap-x-12 gap-y-10 p-5 font-alumniRegular",children:[(0,s.jsx)(ImageDetails_ImageSection,{isLoading:u,userInfo:t,data:d,refetch:m}),(0,s.jsxs)("section",{className:"relative flex flex-col gap-y-3",children:[(0,s.jsx)(ImageDetails_ImageTextDetails,{isLoading:u,data:d}),(0,s.jsx)(ImageDetails_CommentSection,{isLoading:u,userInfo:t,data:d,setOpenLoginModal:e,refetch:m})]})]})}},64966:function(e,t,a){"use strict";var s=a(2265);t.Z=function(e,t){let[a,l]=(0,s.useState)(()=>{{let a=window.localStorage.getItem(e);return"undefined"!==a&&null!==a?JSON.parse(a):t}});return(0,s.useEffect)(()=>{window.localStorage.setItem(e,JSON.stringify(a))},[a,e]),[a,l]}},16896:function(e,t,a){"use strict";a.d(t,{o:function(){return i}});var s=a(94660),l=a(74810);let i=(0,s.Ue)()((0,l.tJ)(e=>({selectedSortOption:"",isLogin:!1,openLoginModal:!1,allImages:[],clientFetchAllData:!1,planType:"",isRemix:!1,imageGenerateLimit:0,imageDownloadLimit:0,userData:void 0,categories:[],navOpen:!1,setSelectedSortOption:t=>e({selectedSortOption:t}),setNavOpen:t=>e({navOpen:t}),setIsLogin:t=>e({isLogin:t}),setIsRemix:t=>e({isRemix:t}),setOpenLoginModal:t=>e({openLoginModal:t}),setAllImages:t=>e({allImages:t}),setClientFetchAllData:t=>e({clientFetchAllData:t}),setPlanType:t=>e({planType:t}),setImageGenerateLimit:t=>e({imageGenerateLimit:t}),setImageDownloadLimit:t=>e({imageDownloadLimit:t}),setUserData:t=>e({userData:t}),setCategories:t=>e({categories:t})}),{name:"saved-states",storage:(0,l.FL)(()=>sessionStorage)}))},38891:function(e,t,a){"use strict";a.d(t,{x:function(){return l}});var s=a(92173);let l=s.Z.create({baseURL:"http://54.237.156.251:8000/api"})},25511:function(e,t){"use strict";t.Z={src:"/_next/static/media/Comment.6b9b5e46.svg",height:22,width:22,blurWidth:0,blurHeight:0}},99761:function(e,t){"use strict";t.Z={src:"/_next/static/media/Download.b5fb4e8a.svg",height:18,width:14,blurWidth:0,blurHeight:0}},60980:function(e,t){"use strict";t.Z={src:"/_next/static/media/Like.7031d992.svg",height:22,width:20,blurWidth:0,blurHeight:0}},77860:function(e,t){"use strict";t.Z={src:"/_next/static/media/Remix.a68e43d2.svg",height:24,width:25,blurWidth:0,blurHeight:0}},57694:function(e,t){"use strict";t.Z={src:"/_next/static/media/like-fill.3f39089f.svg",height:22,width:20,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[986,173,77,166,326,249,593,971,472,744],function(){return e(e.s=28540)}),_N_E=e.O()}]);