(()=>{var e={};e.id=282,e.ids=[282],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},96206:e=>{"use strict";e.exports=require("console")},6113:e=>{"use strict";e.exports=require("crypto")},67643:e=>{"use strict";e.exports=require("diagnostics_channel")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},15673:e=>{"use strict";e.exports=require("node:events")},84492:e=>{"use strict";e.exports=require("node:stream")},47261:e=>{"use strict";e.exports=require("node:util")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},35356:e=>{"use strict";e.exports=require("stream/web")},71576:e=>{"use strict";e.exports=require("string_decoder")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},29830:e=>{"use strict";e.exports=require("util/types")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},10654:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>d,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>u});var r=s(67096),a=s(16132),i=s(37284),n=s.n(i),o=s(32564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let u=["",{children:["(user)",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,21778)),"C:\\Users\\hp\\Desktop\\imagin for personal\\src\\app\\(user)\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,3661)),"C:\\Users\\hp\\Desktop\\imagin for personal\\src\\app\\(user)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,63976)),"C:\\Users\\hp\\Desktop\\imagin for personal\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\hp\\Desktop\\imagin for personal\\src\\app\\(user)\\page.tsx"],p="/(user)/page",d={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(user)/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},42225:(e,t,s)=>{Promise.resolve().then(s.bind(s,78951))},78951:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>HomePage});var r=s(30784),a=s(4632),i=s(8342),n=s(61971);let o={src:"/_next/static/media/failedPayment.d49415b3.svg",height:56,width:60,blurWidth:0,blurHeight:0};var l=s(52451),u=s.n(l),c=s(57114),p=s(81744);let PaymentCancelModal=({setIsOpen:e,isOpen:t})=>{let s=(0,c.useRouter)(),handleOk=()=>{s.push("/"),e(!1)};return r.jsx(p.Z,{isOpen:t,closeModal:handleOk,children:(0,r.jsxs)("div",{className:"flex flex-col items-center  font-alumniRegular bg-[#141414] pt-24 pb-10 px-24",children:[r.jsx(u(),{src:o,alt:"success icon",width:50,height:50}),r.jsx("p",{className:"text-[28px] text-white font-semibold tracking-wide",children:"Payment Failed"}),(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center my-3 text-center text-[16px] text-white tracking-wide",children:[r.jsx("p",{children:"Your Payment is failed. Use another card or"}),r.jsx("p",{children:"Please try again later"})]}),r.jsx("button",{onClick:handleOk,className:"text-black mt-10 px-10 py-3 font-bold !rounded-xl bg-[#FFD970] hover:!text-black hover:bg-[#eece75]",children:"Okay"})]})})},d={src:"/_next/static/media/successPayment.d858b038.svg",height:67,width:64,blurWidth:0,blurHeight:0},components_PaymentSuccessPopup=({setIsOpen:e,isOpen:t})=>{let s=(0,c.useRouter)(),handleOk=()=>{s.push("/"),e(!1)};return r.jsx(p.Z,{isOpen:t,closeModal:handleOk,children:(0,r.jsxs)("div",{className:"flex flex-col items-center  font-alumniRegular bg-[#141414] pt-24 pb-10 px-24",children:[r.jsx(u(),{src:d,alt:"success icon",width:50,height:50}),r.jsx("p",{className:"text-[28px] text-white font-semibold tracking-wide",children:"Payment Success"}),(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center my-3 text-center text-[16px] text-white tracking-wide",children:[r.jsx("p",{children:"Your Payment is successfully completed"}),r.jsx("p",{children:"Enjoy your Selected Plan"})]}),r.jsx("button",{onClick:handleOk,className:"text-black mt-10 px-10 py-3 font-bold !rounded-xl bg-[#FFD970] hover:!text-black hover:bg-[#eece75]",children:"Okay"})]})})};var x=s(34312),m=s(23458),g=s(75130),h=s(59229),y=s.n(h),f=s(9885),_=s(10345),b=s(71319);function HomePage(){let[e,t]=(0,f.useState)(!1),s=(0,x.Z)("userInfo")[1],[o,l]=(0,f.useState)({page:1,page_size:20,sort_by:"likes"}),[u,p]=(0,f.useState)("likes"),[d,h]=(0,f.useState)(null),[q]=(0,f.useState)(null),[P,v]=(0,f.useState)(""),k=(0,c.useSearchParams)(),w=k.get("success"),[j,S]=(0,f.useState)(!1),[O,C]=(0,f.useState)(!1),E=(0,m.o)(e=>e.allImages),D=(0,m.o)(e=>e.setAllImages),F=(0,m.o)(e=>e.clientFetchAllData),I=(0,m.o)(e=>e.setClientFetchAllData),N=(0,m.o)(e=>e.setImageGenerateLimit),M=(0,m.o)(e=>e.setPlanType),A=(0,m.o)(e=>e.setUserData),G=(0,m.o)(e=>e.setIsRemix),U=(0,m.o)(e=>e.setImageDownloadLimit),R=y().debounce(()=>{let{scrollTop:s,scrollHeight:r,clientHeight:a}=document.documentElement,i=+(s/(r-a)*100).toFixed(1);!(i>90)||e||F?i<90&&e&&t(!1):(t(!0),l(e=>({...e,page:e.page+1})))},200);(0,b.useQuery)({queryKey:["get-all-images",P,o,u],queryFn:()=>P?g.x.get(`/categories/${P}/images`,{params:{...o,sort_by:u}}):(console.log("Category api __----------------",g.x),g.x.get("/categories/all/images/",{params:{...o,sort_by:u}})),onSuccess:({data:e})=>{""===P?D([...E,...e?.results]):D([...e?.results]),E?.length+e?.results?.length>=e?.count&&I(!0)},onError:e=>{_.default.error(e.message)},enabled:!0});let{hasNextPage:Z}=(0,b.useInfiniteQuery)({queryKey:["get-all-images",u],queryFn:async({pageParam:e=1})=>{let{data:t}=await g.x.get(`categories/all/images/?page=${e}&page_size=10&sort_by=${u}`);return t},getNextPageParam:(e,t)=>{let s=t?.length?t?.length+1:void 0;return s},getPreviousPageParam:(e,t)=>e.prevCursor}),{mutate:H}=(0,b.useMutation)({mutationKey:["user-plan-subscription"],mutationFn:async e=>g.x.post("/change-plan/",e).then(({data:e})=>{s(e),A(e),M(e?.user_data?.usersubscription?.plan_type),G(e?.user_data?.usersubscription?.ability_to_remix),U(e?.user_data?.usersubscription?.max_download_limit),N(e?.user_data?.usersubscription?.max_generate_limit)})});return(0,b.useQuery)({queryKey:["search-any-image",d],queryFn:()=>g.x.get("/search/",{params:{q:d}}),onSuccess:({data:e})=>{D(e?.results),e?.results?.length===0?_.default.success("No images found in the list"):_.default.success(`${e?.results?.length} image${e?.results?.length>1?"s":""} found in the list`)},onError:e=>{console.error("Error occurred while fetching data:",e.message)},enabled:null!==d&&""!==d}),(0,f.useEffect)(()=>(window.addEventListener("scroll",R),()=>{window.removeEventListener("scroll",R)}),[e,R]),(0,f.useEffect)(()=>{D([]),I(!1),l({page:1,page_size:20,sort_by:u})},[u,D,I]),(0,f.useEffect)(()=>{if("true"===w){S(!0);let e=localStorage.getItem("plan_name"),t=localStorage.getItem("userInfo"),s=JSON.parse(t),r={user_id:s?.user_data?.user_id||null,new_plan_type:e,email:s?.user_data?.email||null};H(r)}else"false"===w&&C(!0)},[w,H]),(0,r.jsxs)("div",{className:"flex flex-col gap-y-6 w-full pt-5  pb-12",children:[r.jsx(i.Z,{setSearchQuery:h,setSearchedData:q,setSortBy:p}),E.length>0||Z?r.jsx(a.Z,{imagesDetails:E}):r.jsx(n.Z,{}),r.jsx(components_PaymentSuccessPopup,{setIsOpen:S,isOpen:j}),r.jsx(PaymentCancelModal,{setIsOpen:C,isOpen:O})]})}},21778:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_user_page});var r=s(4656),a=s(95153);let i=(0,a.createProxy)(String.raw`C:\Users\hp\Desktop\imagin for personal\src\components\HomePage.tsx`),{__esModule:n,$$typeof:o}=i,l=i.default;s(3542);let _user_page=function(){return r.jsx("div",{children:r.jsx(l,{})})}}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[52,694,440,307,711,488,241,618,971,930],()=>__webpack_exec__(10654));module.exports=s})();