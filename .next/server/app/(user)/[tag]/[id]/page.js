(()=>{var e={};e.id=476,e.ids=[476],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},96206:e=>{"use strict";e.exports=require("console")},6113:e=>{"use strict";e.exports=require("crypto")},67643:e=>{"use strict";e.exports=require("diagnostics_channel")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},15673:e=>{"use strict";e.exports=require("node:events")},84492:e=>{"use strict";e.exports=require("node:stream")},47261:e=>{"use strict";e.exports=require("node:util")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},35356:e=>{"use strict";e.exports=require("stream/web")},71576:e=>{"use strict";e.exports=require("string_decoder")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},29830:e=>{"use strict";e.exports=require("util/types")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},90119:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=s(67096),a=s(16132),i=s(37284),l=s.n(i),n=s(32564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["(user)",{children:["[tag]",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9297)),"C:\\Users\\hp\\Desktop\\imagin for personal\\src\\app\\(user)\\[tag]\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3661)),"C:\\Users\\hp\\Desktop\\imagin for personal\\src\\app\\(user)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,63976)),"C:\\Users\\hp\\Desktop\\imagin for personal\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\hp\\Desktop\\imagin for personal\\src\\app\\(user)\\[tag]\\[id]\\page.tsx"],u="/(user)/[tag]/[id]/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(user)/[tag]/[id]/page",pathname:"/[tag]/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9646:(e,t,s)=>{Promise.resolve().then(s.bind(s,27825))},27825:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ImageDetails});var r=s(30784),a=s(34312),i=s(23458),l=s(75130),n=s(57114),o=s(71319),d=s(9885),c=s(10345);let components_TextButton=({name:e,type:t})=>r.jsx("button",{type:t||"button",className:"text-lg font-bold text-white px-8 py-1 rounded-md transition duration-500 primary-btn tracking-wide",children:e}),ImageDetails_CommentSection=({isLoading:e,userInfo:t,data:s,setOpenLoginModal:a,refetch:n})=>{let u=(0,o.useQueryClient)(),[x,m]=(0,d.useState)(""),p=(0,i.o)(e=>e.isLogin),handleSubmit=async e=>{e.preventDefault(),p?await h.mutate({text:x}):a(!0)},h=(0,o.useMutation)({mutationKey:["add-comment"],mutationFn:async e=>l.x.post(`/comment_image/${t?.user_data?.user_id}/${s?.image_id}/`,e),onSuccess:async()=>{c.default.success("Comment Added Successfully"),n(),u.invalidateQueries(["get-user-all-images","get-image-details","get-all-category","get-all-images"]),m("")},onError:e=>{c.default.error(e)}});return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex flex-col gap-y-3",children:[(0,r.jsxs)("h1",{className:"text-white font-bold text-2xl",children:["Comments (",s?.comments?.length,")"]}),e?(0,r.jsxs)("div",{role:"status",className:"max-w-sm animate-pulse",children:[r.jsx("div",{className:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 w-full mb-2.5"}),r.jsx("div",{className:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 w-full mb-2.5"})]}):r.jsx("div",{className:`relative overflow-y-auto  flex flex-col gap-y-2 antd-selector-for-user ${s?.comments?.length>0?"h-[200px]":"h-auto"}`,children:s?.comments?.map(e=>r.jsxs("div",{className:"flex items-start gap-x-6 text-white gap-y-5",children:[r.jsx("div",{className:"flex items-center text-2xl font-bold justify-center border border-LightGray rounded-full w-10 h-10",children:e?.username?.split(" ")[0]?.charAt(0)}),r.jsxs("div",{className:"",children:[r.jsxs("h1",{className:"text-xl font-bold",children:[e?.username?.split(" ")[0]," ",e?.username?.split(" ")[1]?.charAt(0)]}),r.jsx("span",{className:"text-base text-LightGray",children:e?.text})]})]},e.id))})]}),(0,r.jsxs)("form",{className:"flex flex-col items-start justify-start w-full gap-y-4 mt-4",onSubmit:handleSubmit,children:[r.jsx("textarea",{id:"message",rows:3,className:"rounded-md bg-slate-gray  placeholder:text-gray-400 text-white  text-xl w-full p-2 ",placeholder:"Enter your Comment",required:!0,name:"text",value:x,onChange:e=>{m(e.target.value)}}),r.jsx(components_TextButton,{name:"Enter",type:"submit"})]})]})};var u=s(52451),x=s.n(u),m=s(10737),p=s(63012);let h={src:"/_next/static/media/Share.96f8c467.svg",height:20,width:22,blurWidth:0,blurHeight:0};var g=s(35520),f=s(17843),b=s(71662),j=s(55188),y=s(46346),w=s(11440),v=s.n(w);let ImageDetails_ImageSection=({isLoading:e,userInfo:t,data:s,refetch:a})=>{let d=(0,n.usePathname)(),u=(0,i.o)(e=>e.imageDownloadLimit),w=(0,i.o)(e=>e.setImageDownloadLimit),_=(0,i.o)(e=>e.isRemix),N=(0,i.o)(e=>e.isLogin),k=(0,i.o)(e=>e.setOpenLoginModal);(0,n.useRouter)();let q=(0,o.useMutation)({mutationKey:"generate-image-countdown",mutationFn:async e=>{let t=await l.x.post("/decrement_limit/",e);return c.default.success(t?.data?.message),w(t?.data?.user_subscription?.max_download_limit),t.data}}),D=(0,o.useMutation)({mutationKey:["add-like"],mutationFn:async e=>l.x.post(`/like_image/${t?.user_data?.user_id}/${e}/`),onSuccess:()=>{a()},onError:()=>{c.default.error("Updating Failed")}}),P=[{key:"1",label:(0,r.jsxs)(j.Dk,{url:d,className:"flex  gap-1",children:[r.jsx(j.Vq,{size:20,round:!0}),r.jsx("span",{className:"!pl-1 !text-black",children:"Facebook"})]})},{key:"2",label:(0,r.jsxs)(j.N0,{url:d,className:"flex  gap-1",children:[r.jsx(j.ud,{size:20,round:!0}),r.jsx("span",{className:"!pl-1 !text-black",children:"WhatsApp"})]})},{key:"3",label:(0,r.jsxs)(j.B,{url:d,className:"flex  gap-1",children:[r.jsx(j.Zm,{size:20,round:!0}),r.jsx("span",{className:"!pl-1 !text-black",children:"Twitter"})]})},{key:"4",label:(0,r.jsxs)(j.r2,{url:d,className:"flex  gap-1",children:[r.jsx(j.pA,{size:20,round:!0}),r.jsx("span",{className:"!pl-1 !text-black",children:"Linkedin"})]})},{key:"5",label:(0,r.jsxs)(j.tq,{url:d,className:"flex  gap-1",children:[r.jsx(j.YG,{size:20,round:!0}),r.jsx("span",{className:"!pl-1 !text-black",children:"Telegram"})]})},{key:"6",label:(0,r.jsxs)(j.cG,{url:d,body:s?.prompt_optimized,className:"flex  gap-1",children:[r.jsx(j.LQ,{size:20,round:!0}),r.jsx("span",{className:"!pl-1 !text-black",children:"Email"})]})}];return(0,r.jsxs)("div",{className:"flex flex-col gap-y-4 items-center justify-center md:items-start md:justify-start lg:items-center lg:justify-center",children:[r.jsx("section",{className:"relative items-center !h-auto justify-center overflow-hidden rounded-2xl",children:e?r.jsx("div",{className:"w-[342px] !md:w-[402px] !h-[370px] border border-gray-200 relative overflow-hidden rounded-2xl shadow animate-pulse  dark:border-gray-700",children:r.jsx("div",{className:"flex items-center h-full justify-center rounded",children:(0,r.jsxs)("svg",{className:"w-10 h-10 text-gray-200","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 16 20",children:[r.jsx("path",{d:"M14.066 0H7v5a2 2 0 0 1-2 2H0v11a1.97 1.97 0 0 0 1.934 2h12.132A1.97 1.97 0 0 0 16 18V2a1.97 1.97 0 0 0-1.934-2ZM10.5 6a1.5 1.5 0 1 1 0 2.999A1.5 1.5 0 0 1 10.5 6Zm2.221 10.515a1 1 0 0 1-.858.485h-8a1 1 0 0 1-.9-1.43L5.6 10.039a.978.978 0 0 1 .936-.57 1 1 0 0 1 .9.632l1.181 2.981.541-1a.945.945 0 0 1 .883-.522 1 1 0 0 1 .879.529l1.832 3.438a1 1 0 0 1-.031.988Z"}),r.jsx("path",{d:"M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.98 2.98 0 0 0 .13 5H5Z"})]})})}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(x(),{className:"w-full h-auto object-cover",src:s?.image_path,alt:s?.image_path,width:402,height:100,quality:100}),(0,r.jsxs)("section",{className:"absolute bg-gradient-to-t from-black/95 to-transparent top-0 w-full h-full",children:[(0,r.jsxs)(v(),{href:N?"/subscriptions-offers":"",className:`flex items-center gap-x-2 cursor-pointer absolute left-3 text-white text-lg font-semibold top-3 bg-DeepNightBlack py-2 px-4 rounded-lg ${N&&_?"":"pointer-events-none opacity-50"}`,children:[r.jsx(x(),{src:m.Z,alt:"remix icon",width:20,height:20})," ",r.jsx("span",{children:"Remix Image"})]}),r.jsx("section",{className:"absolute w-full bottom-5 left-5 ",children:(0,r.jsxs)("div",{className:"flex items-center justify-between gap-x-6 text-xl",children:[(0,r.jsxs)("div",{className:"flex gap-x-3",children:[(0,r.jsxs)("button",{onClick:()=>N?D?.mutate(s?.image_id):k(!0),className:"flex items-center bg-white/20 cursor-pointer px-2 justify-center h-10 rounded-lg gap-x-2 text-white !border-none",children:[s?.likes?.some(e=>e===t?.user_data?.user_id)?r.jsx(x(),{src:g.Z,alt:"LikeFill icon",width:20,height:20}):r.jsx(x(),{src:f.Z,alt:"Like icon",width:20,height:20}),r.jsx("span",{children:s?.likes?.length})]}),(0,r.jsxs)("button",{className:"flex items-center bg-white/20 cursor-pointer px-2 justify-center h-10 rounded-lg gap-x-2 text-white !border-none",children:[r.jsx(x(),{src:b.Z,alt:"Comment icon",width:20,height:20}),r.jsx("span",{children:s?.comments?.length})]})]}),r.jsx("div",{className:"mr-10",children:(0,r.jsxs)(y.v,{as:"div",className:"relative",children:[r.jsx(y.v.Button,{className:"flex items-center bg-white/20 cursor-pointer w-16 justify-center h-10 rounded-lg gap-x-2 text-white !border-none",children:r.jsx(x(),{src:h,alt:"share icon",width:20,height:20})}),r.jsx(y.v.Items,{className:"absolute right-0 bottom-full mt-2 bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:P.map(e=>r.jsx(y.v.Item,{children:({active:t})=>r.jsx("div",{className:`flex items-center gap-x-2 cursor-pointer py-2 px-2  text-sm ${t?"bg-gray-100":""}`,children:e.label})},e.key))})]})})]})})]})]})}),(0,r.jsxs)("a",{onClick:e=>{if(!N){e.preventDefault(),k(!0);return}if(u>0){q.mutate({user_id:t?.user_data?.user_id,action:"image_download"});return}0==u&&(e.preventDefault(),c.default.success("Maximum downloads succeeded"))},href:s?.image_path,target:"_blank",rel:"noreferrer",className:"flex items-center gap-x-2 px-6 py-1 bg-[#9C70FF] text-xl text-white rounded-md text-center mt-2",children:["Download Image"," ",r.jsx(x(),{src:p.Z,alt:"download icon",width:12,height:12})]})]})},ImageDetails_ImageTextDetails=({isLoading:e,data:t})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"",children:[r.jsx("h1",{className:"text-yellow font-bold text-base",children:"PROMPT"}),e?(0,r.jsxs)("div",{role:"status",className:"max-w-sm animate-pulse",children:[r.jsx("div",{className:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 w-full mb-2.5"}),r.jsx("div",{className:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 w-full mb-2.5"})]}):r.jsx("span",{className:"text-base text-white tracking-wide",children:t?.prompt_optimized})]}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-yellow font-bold text-base",children:"Tags"}),e?(0,r.jsxs)("div",{role:"status",className:"max-w-sm animate-pulse",children:[r.jsx("div",{className:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 w-full mb-2.5"}),r.jsx("div",{className:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 w-full mb-2.5"})]}):t?.caption?.length!==0?r.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:t?.caption?.map(e=>r.jsx("span",{className:"bg-white/20 px-2 py-1 text-base rounded-lg text-white",children:e},e))}):r.jsx("span",{className:"text-base text-white",children:"No Tags"})]})]});function ImageDetails(){let e=(0,i.o)(e=>e.setOpenLoginModal),t=(0,a.Z)("userInfo")[0],{id:s}=(0,n.useParams)(),{data:d,isLoading:u,refetch:x}=(0,o.useQuery)({queryKey:["get-image-details",s],queryFn:async()=>l.x.get(`/images_id/${s}`).then(({data:e})=>e).catch(e=>c.default.error(e))});return(0,r.jsxs)("div",{className:"!h-full grid grid-cols-1 lg:grid-cols-[402px_1fr] gap-x-12 gap-y-10 p-5 font-alumniRegular",children:[r.jsx(ImageDetails_ImageSection,{isLoading:u,userInfo:t,data:d,refetch:x}),(0,r.jsxs)("section",{className:"relative flex flex-col gap-y-3",children:[r.jsx(ImageDetails_ImageTextDetails,{isLoading:u,data:d}),r.jsx(ImageDetails_CommentSection,{isLoading:u,userInfo:t,data:d,setOpenLoginModal:e,refetch:x})]})]})}},9297:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_id_page});var r=s(4656),a=s(95153);let i=(0,a.createProxy)(String.raw`C:\Users\hp\Desktop\imagin for personal\src\components\ImageDetails.tsx`),{__esModule:l,$$typeof:n}=i,o=i.default;s(3542);let _id_page=function(){return r.jsx("div",{children:r.jsx(o,{})})}},71662:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r={src:"/_next/static/media/Comment.6b9b5e46.svg",height:22,width:22,blurWidth:0,blurHeight:0}},63012:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r={src:"/_next/static/media/Download.b5fb4e8a.svg",height:18,width:14,blurWidth:0,blurHeight:0}},17843:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r={src:"/_next/static/media/Like.7031d992.svg",height:22,width:20,blurWidth:0,blurHeight:0}},10737:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r={src:"/_next/static/media/Remix.a68e43d2.svg",height:24,width:25,blurWidth:0,blurHeight:0}},35520:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r={src:"/_next/static/media/like-fill.3f39089f.svg",height:22,width:20,blurWidth:0,blurHeight:0}}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[52,694,440,307,641,188,488,241,618],()=>__webpack_exec__(90119));module.exports=s})();