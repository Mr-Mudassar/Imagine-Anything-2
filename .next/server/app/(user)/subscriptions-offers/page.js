(()=>{var e={};e.id=300,e.ids=[300],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},96206:e=>{"use strict";e.exports=require("console")},6113:e=>{"use strict";e.exports=require("crypto")},67643:e=>{"use strict";e.exports=require("diagnostics_channel")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},15673:e=>{"use strict";e.exports=require("node:events")},84492:e=>{"use strict";e.exports=require("node:stream")},47261:e=>{"use strict";e.exports=require("node:util")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},35356:e=>{"use strict";e.exports=require("stream/web")},71576:e=>{"use strict";e.exports=require("string_decoder")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},29830:e=>{"use strict";e.exports=require("util/types")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},66101:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>u,routeModule:()=>d,tree:()=>c});var r=s(67096),i=s(16132),a=s(37284),o=s.n(a),n=s(32564),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let c=["",{children:["(user)",{children:["subscriptions-offers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7475)),"C:\\Users\\hp\\Desktop\\imagin for personal\\src\\app\\(user)\\subscriptions-offers\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3661)),"C:\\Users\\hp\\Desktop\\imagin for personal\\src\\app\\(user)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,63976)),"C:\\Users\\hp\\Desktop\\imagin for personal\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\hp\\Desktop\\imagin for personal\\src\\app\\(user)\\subscriptions-offers\\page.tsx"],p="/(user)/subscriptions-offers/page",x={require:s,loadChunk:()=>Promise.resolve()},d=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(user)/subscriptions-offers/page",pathname:"/subscriptions-offers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},54989:(e,t,s)=>{Promise.resolve().then(s.bind(s,91789))},91789:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Subscriptions});var r=s(30784),i=s(57114);let a={src:"/_next/static/media/back-double.fff87204.svg",height:16,width:12,blurWidth:0,blurHeight:0};var o=s(61971),n=s(34312),l=s(23458),c=s(75130),u=s(14041),p=s(10345),x=s(71319);function PlanOffer({title:e,amount:t,days:s,description:i}){let a=(0,l.o)(e=>e.setOpenLoginModal),o=(0,l.o)(e=>e.setPlanType),d=(0,l.o)(e=>e.setIsRemix),m=(0,l.o)(e=>e.setImageDownloadLimit),h=(0,l.o)(e=>e.setImageGenerateLimit),f=`${window.location.origin}/?success=true`,b=`${window.location.origin}/success=false`,g=(0,l.o)(e=>e.setUserData),[_,y]=(0,n.Z)("userInfo"),returnPriceId=()=>"premium"===e?"price_1ObQ4bLq5Ym0U1PnhL0YSMUW":"deluxe"===e?"price_1ObQ4vLq5Ym0U1PnFzwOlCZ1":"",{mutate:w,isLoading:q}=(0,x.useMutation)({mutationKey:["user-plan-subscription"],mutationFn:async e=>c.x.post("/change-plan/",e).then(({data:e})=>{y(e),g(e),o(e?.user_data?.usersubscription?.plan_type),d(e?.user_data?.usersubscription?.ability_to_remix),m(e?.user_data?.usersubscription?.max_download_limit),h(e?.user_data?.usersubscription?.max_generate_limit)})}),handleCheckout=async()=>{localStorage.setItem("plan_name",e);let t=await (0,u.J)("pk_test_51OU3TkLq5Ym0U1Pnkxk2VIrX9yRsFyFYILt2CkwbNTaYTKp4ylgZitmJJhAnGXJijMVNGhhjaBvklIxCRWZEChxL00AeIczLO3"),r=await c.x.post("create-checkout-session/",{price_id:returnPriceId(),num_days:s||1,success_url:f,cancel_url:b}),i=await r.data,a=await t?.redirectToCheckout({sessionId:i.session_id});a?.error?p.default.error("Error redirecting to checkout"):p.default.success("Checkout completed successfully")};return(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-3xl w-full md:w-[320px] py-4 rounded-2xl h-[480px]",children:[(0,r.jsxs)("header",{className:"flex flex-col gap-y-1 border-b border-yellow/20 px-4 pb-4",children:[r.jsx("h1",{className:"text-yellow text-4xl font-bold capitalize",children:e}),(0,r.jsxs)("div",{className:"flex items-baseline gap-x-1",children:[r.jsx("span",{className:"text-4xl",children:"$"}),r.jsx("span",{className:"text-4xl font-bold",children:t}),r.jsx("span",{className:"text-xl",children:"/month"})]})]}),(0,r.jsxs)("section",{className:"flex flex-col gap-y-6 px-4 pt-4",children:[r.jsx("div",{className:"flex flex-col gap-y-3",children:i?.map((e,t)=>r.jsxs("div",{className:"flex items-center gap-x-4",children:[r.jsx("span",{className:"bg-yellow w-3 h-3 rounded-full"}),r.jsx("span",{className:"text-lg",children:e})]},t))}),"free"!==e&&r.jsx(r.Fragment,{children:_?.user_data?.usersubscription?.plan_type===e?r.jsx("button",{onClick:()=>{let e={user_id:_?.user_data?.user_id||null,new_plan_type:"free",email:_?.user_data?.email||null};w(e)},disabled:q,className:"self-center text-xl text-black font-semibold hover:bg-yellow/50 transition-all bg-yellow px-20 py-2 rounded-2xl",children:q?"Unsubscribing...":"Cancel Plan"}):r.jsx("button",{onClick:_?handleCheckout:()=>a(!0),className:"absolute bottom-10 self-center text-xl text-black font-semibold hover:bg-yellow/50 transition-all bg-yellow px-20 py-2 rounded-2xl",children:"Select Plan"})})]})]})}var d=s(52451),m=s.n(d);function Subscriptions(){let e=(0,i.useRouter)(),{data:t,isLoading:s}=(0,x.useQuery)({queryKey:["get-all-package"],queryFn:async()=>{try{let{data:e}=await c.x.get("/payment-plans/");return e}catch(e){throw Error(e)}}});return r.jsx(r.Fragment,{children:s?r.jsx(o.Z,{}):(0,r.jsxs)("div",{className:"relative flex flex-col w-full gap-y-6 items-center justify-center text-white pb-20 md:pb-0",children:[(0,r.jsxs)("button",{className:"flex text-md md:text-2xl absolute left-0 top-2 md:top-12 cursor-pointer !w-[25px] md:w-full",onClick:()=>e.back(),children:[r.jsx(m(),{alt:"back icon",src:a,className:"text-white mr-1 mb-[2px] w-[10px] md:w-full"}),"Back"]}),(0,r.jsxs)("div",{className:"flex flex-col text-center pt-12",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-semibold",children:"Unlock Imagine Anything"}),r.jsx("span",{className:"text-xl md:text-2xl font-normal",children:"Pick The Plan That Is Best For You"})]}),r.jsx("div",{className:"flex flex-wrap w-full gap-y-5 items-start gap-x-5 justify-center h-full pb-10",children:t?.map(({payment_id:e,plan_type:t,amount:s,number_of_days:i,description:a})=>r.jsx(PlanOffer,{title:t,amount:s,days:i,description:a},e))})]})})}},7475:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>l});var r=s(95153);let i=(0,r.createProxy)(String.raw`C:\Users\hp\Desktop\imagin for personal\src\app\(user)\subscriptions-offers\page.tsx`),{__esModule:a,$$typeof:o}=i,n=i.default,l=n}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[52,694,440,307,488,241,618,971],()=>__webpack_exec__(66101));module.exports=s})();