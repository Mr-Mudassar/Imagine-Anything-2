(()=>{var e={};e.id=527,e.ids=[527],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},19831:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(67096),a=s(16132),l=s(37284),n=s.n(l),i=s(32564),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["(admin)",{children:["packages",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,71306)),"C:\\Users\\hp\\Desktop\\imagin for personal\\src\\app\\(admin)\\packages\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,42430)),"C:\\Users\\hp\\Desktop\\imagin for personal\\src\\app\\(admin)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,63976)),"C:\\Users\\hp\\Desktop\\imagin for personal\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\hp\\Desktop\\imagin for personal\\src\\app\\(admin)\\packages\\page.tsx"],p="/(admin)/packages/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(admin)/packages/page",pathname:"/packages",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6254:(e,t,s)=>{Promise.resolve().then(s.bind(s,59019))},59019:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>page});var r=s(30784),a=s(9885),l=s(52451),n=s.n(l),i=s(79636),o=s.n(i),d=s(84887),c=s(68602),p=s(71319),u=s(75130),x=s(33708);let m={src:"/_next/static/media/edit.95ce1a24.svg",height:32,width:32,blurWidth:0,blurHeight:0};var h=s(11761),g=s(78138),f=s(77829),y=s(72781),b=s(53275),j=s(13214);let Modals_AddPackage=({setIsOpen:e,isOpen:t,refetch:s,updateData:l,setUpdateData:i})=>{let[d]=f.Z.useForm(),{Option:x}=j.default,m=(0,p.useMutation)({mutationKey:["create-package"],mutationFn:e=>u.x.post("/payment-plans/",e),onSuccess:()=>{c.ZP.success("Package is successfull created"),s(),d.resetFields(),e(!1)},onError:e=>{c.ZP.error("Failed to Create package"),console.log(e)}}),h=(0,p.useMutation)({mutationKey:["update-package"],mutationFn:async t=>u.x.patch(`/payment-plans/${l.payment_id}/`,t).then(t=>{c.ZP.success("Package is updated created"),s(),d.resetFields(),e(!1)})});return(0,a.useEffect)(()=>{l?d.setFieldsValue(l):d.resetFields()},[l,d]),r.jsx(b.Z,{closeIcon:r.jsx(n(),{src:g.Z,alt:"small-cross-icon"}),className:"antd-selector-for-packages-dropdown",width:448,open:t,footer:null,onOk:()=>{d.resetFields(),i(null),e(!1)},onCancel:()=>{d.resetFields(),i(null),e(!1)},children:(0,r.jsxs)(f.Z,{form:d,onFinish:e=>{if(l){if(e?.description){let t={description:e?.description.split(",")};h.mutate(t)}else{c.ZP.error("Description is required");return}}else if(e.plan_type&&e.amount&&e.number_of_days&&e.description){let t={plan_type:e.plan_type,amount:+e.amount,number_of_days:+e.number_of_days,description:e.description.split(",")};console.log(t),m.mutate(t)}else c.ZP.error("All Field are required")},layout:"vertical",className:"flex flex-col items-center  bg-[#141414] p-5",children:[!l&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("label",{className:"text-white text-center self-start text-[22px] mt-10 pb-2 !text-xl font-bold",children:"Package Title"}),r.jsx(f.Z.Item,{className:"w-full",name:"plan_type",children:(0,r.jsxs)(j.default,{className:"packages-dropdown",defaultValue:"Free Users",style:{width:200},children:[r.jsx(x,{value:"Free Users",children:"Free Users"}),r.jsx(x,{value:"Premium Users",children:"Premium Users"}),r.jsx(x,{value:"Deluxe Users",children:"Deluxe Users"})]})}),r.jsx("label",{className:"text-white text-center self-start text-[22px] pb-2 !text-xl font-bold",children:"Package Price"}),r.jsx(f.Z.Item,{className:"w-full",name:"amount",children:r.jsx(y.default,{type:"text",placeholder:"Enter package price",required:!0,disabled:l&&!0,className:"w-full !bg-[#141414] text-white border border-gray-600 placeholder:!text-[#505050] py-2 rounded-xl text-[18px]"})}),r.jsx("label",{className:"text-white text-center self-start text-[22px] pb-2 !text-xl font-bold",children:"Number of days"}),r.jsx(f.Z.Item,{className:"w-full",name:"number_of_days",children:r.jsx(y.default,{type:"text",placeholder:"Enter number of days",required:!0,disabled:l&&!0,className:"w-full !bg-[#141414] text-white border border-gray-600 placeholder:!text-[#505050] py-2 rounded-xl text-[18px]"})})]}),r.jsx("label",{className:"text-white text-center self-start text-[22px] pb-2 !text-xl font-bold",children:"Description"}),r.jsx(f.Z.Item,{className:"w-full",name:"description",children:r.jsx(y.default.TextArea,{type:"text",autoSize:!1,placeholder:"Enter description (comma separated)",className:"w-full !bg-[#141414] text-white border border-gray-600 placeholder:!text-[#505050] py-2 rounded-xl text-[18px]",required:!0})}),(0,r.jsxs)("div",{className:"flex flex-col w-full gap-y-4",children:[r.jsx(o(),{type:"tertuary",htmlType:"submit",loading:m.isLoading,className:"flex items-center justify-center bg-purple-500 w-full text-[20px] hover:!bg-white rounded-xl hover:!text-black text-white py-5",children:l?"Update Package":"Add package"}),r.jsx(o(),{type:"secondary",onClick:()=>{d.resetFields(),e(!1),i(null)},className:"cursor-pointer flex items-center justify-center w-full text-[20px] text-white !border-none",children:"Cancel"})]})]})})},page=()=>{let[e,t]=(0,a.useState)(!1),[s,l]=(0,a.useState)(null),handleDelete=(e,t)=>{e.stopPropagation(),b.mutate(t)},handleUpdate=(e,s)=>{e.stopPropagation(),l(s),t(!0)},i=[{key:"id",title:"Id",dataIndex:"payment_id",render:e=>r.jsx("span",{className:"text-white font-medium text-[18px]",children:e})},{key:"title",title:"Title",dataIndex:"plan_type",render:e=>r.jsx("span",{className:"text-white font-medium text-[18px]",children:e})},{key:"amount",title:"Amount",dataIndex:"amount",render:e=>r.jsx("span",{className:"text-white font-medium text-[18px]",children:e})},{key:"description",title:"Description",dataIndex:"description",render:e=>r.jsx("span",{className:"text-white font-medium text-[18px]",children:e})},{title:"Actions",dataIndex:"actions",key:"actions",render:(e,t)=>(0,r.jsxs)("div",{className:"flex gap-x-4 justify-start items-center",children:[r.jsx("span",{className:"font-medium text-[18px] text-[#FF7070] cursor-pointer",children:r.jsx(n(),{src:m,alt:"save-icon",width:22,height:22,onClick:e=>handleUpdate(e,t)})}),r.jsx("span",{onClick:e=>handleDelete(e,t.payment_id),className:"font-medium text-[18px] text-[#FF7070] cursor-pointer",children:r.jsx(n(),{src:h.Z,alt:"delete-icon"})})]})}],{data:g,isLoading:f,refetch:y}=(0,p.useQuery)({queryKey:["get-all-package"],queryFn:async()=>u.x.get("/payment-plans/").then(({data:e})=>e).catch(e=>console.log(e))}),b=(0,p.useMutation)({mutationKey:["delete-package"],mutationFn:e=>u.x.delete(`/payment-plans/${e}`),onSuccess:()=>{c.ZP.success("Package Delete successfully"),y()},onError:e=>{c.ZP.error("Failed to delete pacakge"),console.log(e)}});return(0,r.jsxs)(r.Fragment,{children:[r.jsx(Modals_AddPackage,{setIsOpen:t,isOpen:e,refetch:y,updateData:s,setUpdateData:l}),r.jsx("div",{className:"px-2 md:px-10 py-10 antd-table antd-selector-for-admin ",children:(0,r.jsxs)("div",{className:"flex flex-col border border-gray-600 rounded-2xl",children:[(0,r.jsxs)("header",{className:"p-5 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"text-white",children:[r.jsx("h1",{className:"text-2xl font-bold ",children:"All Package"}),r.jsx("span",{children:"Manage your packages here"})]}),r.jsx(o(),{type:"primary",onClick:()=>t(!0),className:"bg-purple-500/20 border border-purple-600 text-purple-600 font-sans",icon:r.jsx(n(),{src:x.Z,alt:"plus-icon"}),children:"Add Package"})]}),r.jsx(d.Z,{dataSource:g,columns:i,loading:f,className:" min-w-[350px] overflow-x-auto rounded-2xl border-t border-[#7a7a7a]",pagination:!1})]})})]})}},71306:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>o});var r=s(95153);let a=(0,r.createProxy)(String.raw`C:\Users\hp\Desktop\imagin for personal\src\app\(admin)\packages\page.tsx`),{__esModule:l,$$typeof:n}=a,i=a.default,o=i},11761:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r={src:"/_next/static/media/delete.f5b8a014.svg",height:20,width:18,blurWidth:0,blurHeight:0}},33708:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r={src:"/_next/static/media/plus.a31b4988.svg",height:12,width:13,blurWidth:0,blurHeight:0}},78138:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r={src:"/_next/static/media/small-cross.2ab7fe01.svg",height:7,width:7,blurWidth:0,blurHeight:0}}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[52,694,440,641,602,490,887,275,829,488,241,115],()=>__webpack_exec__(19831));module.exports=s})();